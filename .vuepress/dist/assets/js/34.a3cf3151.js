(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{448:function(t,a,s){"use strict";s.r(a);var n=s(62),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{align:"center"}},[t._v("æ“ä½œç³»ç»Ÿ")]),t._v(" "),s("p",{attrs:{id:"è¿›ç¨‹çº¿ç¨‹å’Œåç¨‹çš„åŒºåˆ«å’Œè”ç³»"}}),t._v(" "),s("div",{staticStyle:{"border-color":"#24C6DC","background-color":"#e9f9f3",margin:"1rem 0",padding:".25rem 1rem","border-left-width":".3rem","border-left-style":"solid","border-radius":".5rem",color:"inherit"}},[s("p",[t._v("è¿™æ˜¯å…­åˆ™æˆ–è®¸å¯¹ä½ æœ‰äº›è®¸å¸®åŠ©çš„ä¿¡æ¯:")]),t._v(" "),s("p",[t._v("â­ï¸1ã€é˜¿ç§€ä¸æœ‹å‹åˆä½œå¼€å‘äº†ä¸€ä¸ª"),s("span",{staticStyle:{"font-weight":"bold",color:"red"}},[t._v("ç¼–ç¨‹èµ„æºç½‘ç«™")]),t._v("ï¼Œç›®å‰å·²ç»æ”¶å½•äº†å¾ˆå¤šä¸é”™çš„å­¦ä¹ èµ„æºå’Œé»‘ç§‘æŠ€ï¼ˆé™„å¸¦ä¸‹è½½åœ°å€ï¼‰ï¼Œå¦‚è¿‡ä½ æƒ³è¦å¯»æ±‚åˆé€‚çš„ç¼–ç¨‹èµ„æºï¼Œ"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://tools.interviewguide.cn/home",target:"_blank"}},[t._v("æ¬¢è¿ä½“éªŒ")]),t._v("ä»¥åŠæ¨èè‡ªå·±è®¤ä¸ºä¸é”™çš„èµ„æºï¼Œä¼—äººæ‹¾æŸ´ç«ç„°é«˜ï¼Œæˆ‘ä¸ºäººäººï¼Œäººäººä¸ºæˆ‘ğŸ”¥ï¼")]),t._v(" "),s("p",[t._v("2ã€ğŸ‘‰23å¹´5æœˆä»½é˜¿ç§€ä»"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://mp.weixin.qq.com/s?__biz=Mzk0ODU4MzEzMw==&mid=2247512170&idx=1&sn=c4a04a383d2dfdece676b75f17224e78",target:"_blank"}},[t._v("å­—èŠ‚è·³åŠ¨ç¦»èŒè·³æ§½åˆ°æŸå¤–ä¼")]),t._v("æœŸé—´ï¼Œä¸º"),s("span",{staticStyle:{"font-weight":"bold"}},[t._v("æ–¹ä¾¿è‡ªå·±æ‰¾å·¥ä½œï¼Œå¢åŠ ä¸Šå²¸å‡ ç‡")]),t._v("ï¼Œæˆ‘è‡ªå·±ä»0å¼€å‘äº†ä¸€ä¸ª"),s("span",{staticStyle:{"font-weight":"bold",color:"red"}},[t._v("äº’è”ç½‘ä¸­å¤§å‚é¢è¯•çœŸé¢˜è§£æç½‘ç«™")]),t._v("ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªå‰ç«¯å’Œä¸€ä¸ªåç«¯ã€‚èƒ½å¤Ÿå®šå‘æŸ¥çœ‹æŸäº›å…¬å¸çš„æŸäº›å²—ä½é¢è¯•çœŸé¢˜ï¼Œæ¯”å¦‚æˆ‘æƒ³æŸ¥ä¸€ä¸‹è¡Œä¸šä¸ºäº’è”ç½‘ï¼Œå…¬å¸ä¸ºå­—èŠ‚è·³åŠ¨ï¼Œè€ƒå¯Ÿå²—ä½ä¸ºåç«¯ï¼Œè€ƒå¯Ÿæ—¶é—´ä¸ºæœ€è¿‘ä¸€å¹´ä¹‹ç±»çš„é¢è¯•é¢˜æœ‰å“ªäº›ï¼Ÿ\n")]),s("div",{attrs:{align:"center"}}),t._v("ç½‘ç«™åœ°å€ï¼š"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://top.interviewguide.cn/",target:"_blank"}},[t._v("InterviewGuideå¤§å‚é¢è¯•çœŸé¢˜è§£æç½‘ç«™")]),t._v("ã€‚ç‚¹æ­¤å¯ä»¥æŸ¥çœ‹è¯¥ç½‘ç«™çš„è§†é¢‘ä»‹ç»ï¼š"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://www.bilibili.com/video/BV1f94y1C7BL",target:"_blank"}},[t._v("Bç«™è§†é¢‘è®²è§£")]),t._v("   å¦‚æœå¯ä»¥çš„è¯æ±‚ä¸ªBç«™ä¸‰è¿ï¼Œæ„Ÿè°¢ï¼\n  "),s("p"),t._v("3ã€ğŸ˜Š\n    åˆ†äº«ä¸€ä¸ªå­¦å¼Ÿå‘ç»™æˆ‘çš„"),s("span",{staticStyle:{"font-weight":"bold",color:"red"}},[t._v("20Tç½‘ç›˜èµ„æºåˆé›†")]),t._v("ï¼Œ"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://docs.qq.com/sheet/DY3VPVklVaFFMcUZ4?tab=9h5afr",target:"_blank"}},[t._v("ç‚¹æ­¤ç™½å«–")]),t._v("ï¼Œä¸»è¦æ˜¯å„ç±»é«˜æ¸…å½±è§†ã€ç”µè§†å‰§ã€éŸ³ä¹ã€å‰¯ä¸šã€çºªå½•ç‰‡ã€è‹±è¯­å››å…­çº§è€ƒè¯•ã€è€ƒç ”è€ƒå…¬ç­‰èµ„æºã€‚\n  "),s("p"),t._v(" "),s("p",[t._v("4ã€ğŸ˜å…è´¹åˆ†äº«é˜¿ç§€ä¸ªäººå­¦ä¹ è®¡ç®—æœºä»¥æ¥æ”¶é›†åˆ°çš„å…è´¹å­¦ä¹ èµ„æºï¼Œ"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"/notes/07-resources/01-free/01-introduce.html",target:"_blank"}},[t._v("ç‚¹æ­¤ç™½å«–")]),t._v("ï¼›ä¹Ÿè®°å½•ä¸€ä¸‹è‡ªå·±ä»¥å‰ä¹°è¿‡çš„"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"/notes/07-resources/02-precious.html",target:"_blank"}},[t._v("ä¸é”™çš„è®¡ç®—æœºä¹¦ç±ã€ç½‘ç»œä¸“æ å’Œåƒåœ¾ä»˜è´¹ä¸“æ ")]),t._v("ï¼›ä¹Ÿè®°å½•ä¸€ä¸‹è‡ªå·±ä»¥å‰ä¹°è¿‡çš„"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"/notes/07-resources/02-precious.html",target:"_blank"}},[t._v("ä¸é”™çš„è®¡ç®—æœºä¹¦ç±ã€ç½‘ç»œä¸“æ å’Œåƒåœ¾ä»˜è´¹ä¸“æ ")])]),t._v(" "),s("p",[t._v("5ã€ğŸš€å¦‚æœä½ æƒ³åœ¨æ ¡æ‹›ä¸­é¡ºåˆ©æ‹¿åˆ°æ›´å¥½çš„offerï¼Œé˜¿ç§€å»ºè®®ä½ å¤šçœ‹çœ‹å‰äºº"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://www.yuque.com/tuobaaxiu/httmmc/npg1k81zeq4wfpyz",target:"_blank"}},[t._v("è¸©è¿‡çš„å‘")]),t._v("å’Œ"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{target:"_blank",href:"https://www.yuque.com/tuobaaxiu/httmmc/gge9ppd0mbu2d3dp"}},[t._v("ç•™ä¸‹çš„ç»éªŒ")]),t._v("ï¼Œäº‹å®ä¸Šä½ ç°åœ¨é‡åˆ°çš„å¤§å¤šæ•°é—®é¢˜ä½ çš„å­¦é•¿å­¦å§å¸ˆå…„å¸ˆå§åŸºæœ¬éƒ½å·²ç»é‡åˆ°è¿‡äº†ã€‚\n  ")]),t._v(" "),s("p",[t._v("6ã€ğŸ”¥ æ¬¢è¿å‡†å¤‡è®¡ç®—æœºæ ¡æ‹›çš„å°ä¼™ä¼´åŠ å…¥æˆ‘çš„"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://www.yuque.com/tuobaaxiu/httmmc/xg0otqvc17wfx4u9",target:"_blank"}},[t._v("å­¦ä¹ åœˆå­")]),t._v("ï¼Œä¸€ä¸ªäººè¸½è¸½ç‹¬è¡Œä¸å¦‚ä¸€ç¾¤äººæŠ¥å›¢å–æš–ï¼Œåœˆå­é‡Œæ²‰æ·€äº†å¾ˆå¤šè¿‡å»21/22/23å±Šå­¦é•¿å­¦å§çš„"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://www.yuque.com/tuobaaxiu/httmmc/gge9ppd0mbu2d3dp",target:"_blank"}},[t._v("ç»éªŒå’Œæ€»ç»“")]),t._v("ï¼Œå¥½å¥½è·Ÿç€èµ°ä¸‹å»çš„ï¼Œæœ€ååŸºæœ¬éƒ½å¯ä»¥æ‹¿åˆ°ä¸é”™çš„offerï¼æ­¤å¤–ï¼Œæ¯å‘¨éƒ½ä¼šè¿›è¡Œ"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://www.yuque.com/tuobaaxiu/httmmc/npg1k81zeq4wfpyz",target:"_blank"}},[t._v("ç²¾åæ€»ç»“å’Œåˆ†äº«ï¼")]),t._v("å¦‚æœä½ éœ€è¦ã€Šé˜¿ç§€çš„å­¦ä¹ ç¬”è®°ã€‹ç½‘ç«™ä¸­ğŸ“šï¸æ ¡æ‹›å…«è‚¡æ–‡ç›¸å…³çŸ¥è¯†ç‚¹çš„PDFç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥"),s("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://www.yuque.com/tuobaaxiu/httmmc/qs0yn66apvkzw0ps",target:"_blank"}},[t._v("ç‚¹æ­¤ä¸‹è½½")]),t._v(" ã€‚")])]),t._v("\n>\n"),s("h2",{attrs:{id:"_21ã€è¯´ä¸€ä¸‹ä½ ç†è§£ä¸­çš„å†…å­˜-ä»–æœ‰ä»€ä¹ˆä½œç”¨å‘¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_21ã€è¯´ä¸€ä¸‹ä½ ç†è§£ä¸­çš„å†…å­˜-ä»–æœ‰ä»€ä¹ˆä½œç”¨å‘¢"}},[t._v("#")]),t._v(" 21ã€è¯´ä¸€ä¸‹ä½ ç†è§£ä¸­çš„å†…å­˜ï¼Ÿä»–æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://oss.interviewguide.cn/img/202205212343183.png",alt:""}})]),t._v(" "),s("P",{attrs:{id:"æ“ä½œç³»ç»Ÿç»å…¸é—®é¢˜ä¹‹å“²å­¦å®¶è¿›é¤é—®é¢˜"}}),t._v(" "),s("h2",{attrs:{id:"_22ã€æ“ä½œç³»ç»Ÿç»å…¸é—®é¢˜ä¹‹å“²å­¦å®¶è¿›é¤é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_22ã€æ“ä½œç³»ç»Ÿç»å…¸é—®é¢˜ä¹‹å“²å­¦å®¶è¿›é¤é—®é¢˜"}},[t._v("#")]),t._v(" 22ã€æ“ä½œç³»ç»Ÿç»å…¸é—®é¢˜ä¹‹å“²å­¦å®¶è¿›é¤é—®é¢˜")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://oss.interviewguide.cn/img/202205212343455.png",alt:""}})]),t._v(" "),s("p",[t._v("äº”ä¸ªå“²å­¦å®¶å›´ç€ä¸€å¼ åœ†æ¡Œï¼Œæ¯ä¸ªå“²å­¦å®¶é¢å‰æ”¾ç€é£Ÿç‰©ã€‚å“²å­¦å®¶çš„ç”Ÿæ´»æœ‰ä¸¤ç§äº¤æ›¿æ´»åŠ¨ï¼šåƒé¥­ä»¥åŠæ€è€ƒã€‚å½“ä¸€ä¸ªå“²å­¦å®¶åƒé¥­æ—¶ï¼Œéœ€è¦å…ˆæ‹¿èµ·è‡ªå·±å·¦å³ä¸¤è¾¹çš„ä¸¤æ ¹ç­·å­ï¼Œå¹¶ä¸”ä¸€æ¬¡åªèƒ½æ‹¿èµ·ä¸€æ ¹ç­·å­ã€‚")]),t._v(" "),s("p",[t._v("ä¸‹é¢æ˜¯ä¸€ç§é”™è¯¯çš„è§£æ³•ï¼Œå¦‚æœæ‰€æœ‰å“²å­¦å®¶åŒæ—¶æ‹¿èµ·å·¦æ‰‹è¾¹çš„ç­·å­ï¼Œé‚£ä¹ˆæ‰€æœ‰å“²å­¦å®¶éƒ½åœ¨ç­‰å¾…å…¶å®ƒå“²å­¦å®¶åƒå®Œå¹¶é‡Šæ”¾è‡ªå·±æ‰‹ä¸­çš„ç­·å­ï¼Œå¯¼è‡´æ­»é”ã€‚")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("N")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")])])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("philosopher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TRUE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("think")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‹¿èµ·å·¦è¾¹çš„ç­·å­")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("take")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‹¿èµ·å³è¾¹çš„ç­·å­")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("ä¸ºäº†é˜²æ­¢æ­»é”çš„å‘ç”Ÿï¼Œå¯ä»¥è®¾ç½®ä¸¤ä¸ªæ¡ä»¶ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å¿…é¡»åŒæ—¶æ‹¿èµ·å·¦å³ä¸¤æ ¹ç­·å­ï¼›")]),t._v(" "),s("li",[t._v("åªæœ‰åœ¨ä¸¤ä¸ªé‚»å±…éƒ½æ²¡æœ‰è¿›é¤çš„æƒ…å†µä¸‹æ‰å…è®¸è¿›é¤ã€‚")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("N")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")])])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("LEFT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" N "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" N ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å·¦é‚»å±…")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("RIGHT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" N    ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å³é‚»å±…")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("THINKING")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")])])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("HUNGRY")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")])])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("EATING")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")])])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" semaphore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·Ÿè¸ªæ¯ä¸ªå“²å­¦å®¶çš„çŠ¶æ€")]),t._v("\nsemaphore mutex "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸´ç•ŒåŒºçš„äº’æ–¥ï¼Œä¸´ç•ŒåŒºæ˜¯ state æ•°ç»„ï¼Œå¯¹å…¶ä¿®æ”¹éœ€è¦äº’æ–¥")]),t._v("\nsemaphore s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯ä¸ªå“²å­¦å®¶ä¸€ä¸ªä¿¡å·é‡")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("philosopher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TRUE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("think")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("take_two")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put_two")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("take_two")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("down")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" HUNGRY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("check")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("down")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªæœ‰æ”¶åˆ°é€šçŸ¥ä¹‹åæ‰å¯ä»¥å¼€å§‹åƒï¼Œå¦åˆ™ä¼šä¸€ç›´ç­‰ä¸‹å»")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put_two")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("down")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" THINKING"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("check")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LEFT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°è¯•é€šçŸ¥å·¦å³é‚»å±…ï¼Œè‡ªå·±åƒå®Œäº†ï¼Œä½ ä»¬å¯ä»¥å¼€å§‹åƒäº†")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("check")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RIGHT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("eat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("down")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" EATING"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ£€æŸ¥ä¸¤ä¸ªé‚»å±…æ˜¯å¦éƒ½æ²¡æœ‰ç”¨é¤ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå°± up(&s[i])ï¼Œä½¿å¾— down(&s[i]) èƒ½å¤Ÿå¾—åˆ°é€šçŸ¥å¹¶ç»§ç»­æ‰§è¡Œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("check")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("         \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" HUNGRY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("LEFT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" EATING "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("RIGHT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v("EATING"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" EATING"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",{attrs:{id:"æ“ä½œç³»ç»Ÿç»å…¸é—®é¢˜ä¹‹è¯»è€…å†™è€…é—®é¢˜"}}),t._v(" "),s("h2",{attrs:{id:"_23ã€æ“ä½œç³»ç»Ÿç»å…¸é—®é¢˜ä¹‹è¯»è€…-å†™è€…é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_23ã€æ“ä½œç³»ç»Ÿç»å…¸é—®é¢˜ä¹‹è¯»è€…-å†™è€…é—®é¢˜"}},[t._v("#")]),t._v(" 23ã€æ“ä½œç³»ç»Ÿç»å…¸é—®é¢˜ä¹‹è¯»è€…-å†™è€…é—®é¢˜")]),t._v(" "),s("p",[t._v("å…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶å¯¹æ•°æ®è¿›è¡Œè¯»æ“ä½œï¼Œä½†æ˜¯ä¸å…è®¸è¯»å’Œå†™ä»¥åŠå†™å’Œå†™æ“ä½œåŒæ—¶å‘ç”Ÿã€‚")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªæ•´å‹å˜é‡ count è®°å½•åœ¨å¯¹æ•°æ®è¿›è¡Œè¯»æ“ä½œçš„è¿›ç¨‹æ•°é‡ï¼Œä¸€ä¸ªäº’æ–¥é‡ count_mutex ç”¨äºå¯¹ count åŠ é”ï¼Œä¸€ä¸ªäº’æ–¥é‡ data_mutex ç”¨äºå¯¹è¯»å†™çš„æ•°æ®åŠ é”ã€‚")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" semaphore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsemaphore count_mutex "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsemaphore data_mutex "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TRUE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("down")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("count_mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("down")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("data_mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬ä¸€ä¸ªè¯»è€…éœ€è¦å¯¹æ•°æ®è¿›è¡ŒåŠ é”ï¼Œé˜²æ­¢å†™è¿›ç¨‹è®¿é—®")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("count_mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("read")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("down")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("count_mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("data_mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æœ€åä¸€ä¸ªè¯»è€…è¦å¯¹æ•°æ®è¿›è¡Œè§£é”ï¼Œé˜²æ­¢å†™è¿›ç¨‹æ— æ³•è®¿é—®")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("count_mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TRUE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("down")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("data_mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("up")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("data_mutex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",{attrs:{id:"ä»‹ç»ä¸€ä¸‹å‡ ç§å…¸å‹çš„é”"}}),t._v(" "),s("h2",{attrs:{id:"_24ã€ä»‹ç»ä¸€ä¸‹å‡ ç§å…¸å‹çš„é”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_24ã€ä»‹ç»ä¸€ä¸‹å‡ ç§å…¸å‹çš„é”"}},[t._v("#")]),t._v(" 24ã€ä»‹ç»ä¸€ä¸‹å‡ ç§å…¸å‹çš„é”ï¼Ÿ")]),t._v(" "),s("h3",{attrs:{id:"è¯»å†™é”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¯»å†™é”"}},[t._v("#")]),t._v(" è¯»å†™é”")]),t._v(" "),s("ul",[s("li",[t._v("å¤šä¸ªè¯»è€…å¯ä»¥åŒæ—¶è¿›è¡Œè¯»")]),t._v(" "),s("li",[t._v("å†™è€…å¿…é¡»äº’æ–¥ï¼ˆåªå…è®¸ä¸€ä¸ªå†™è€…å†™ï¼Œä¹Ÿä¸èƒ½è¯»è€…å†™è€…åŒæ—¶è¿›è¡Œï¼‰")]),t._v(" "),s("li",[t._v("å†™è€…ä¼˜å…ˆäºè¯»è€…ï¼ˆä¸€æ—¦æœ‰å†™è€…ï¼Œåˆ™åç»­è¯»è€…å¿…é¡»ç­‰å¾…ï¼Œå”¤é†’æ—¶ä¼˜å…ˆè€ƒè™‘å†™è€…ï¼‰")])]),t._v(" "),s("h3",{attrs:{id:"äº’æ–¥é”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äº’æ–¥é”"}},[t._v("#")]),t._v(" äº’æ–¥é”")]),t._v(" "),s("p",[t._v("ä¸€æ¬¡åªèƒ½ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰äº’æ–¥é”ï¼Œå…¶ä»–çº¿ç¨‹åªæœ‰ç­‰å¾…")]),t._v(" "),s("p",[t._v("äº’æ–¥é”æ˜¯åœ¨æŠ¢é”å¤±è´¥çš„æƒ…å†µä¸‹ä¸»åŠ¨æ”¾å¼ƒCPUè¿›å…¥ç¡çœ çŠ¶æ€ç›´åˆ°é”çš„çŠ¶æ€æ”¹å˜æ—¶å†å”¤é†’ï¼Œè€Œæ“ä½œç³»ç»Ÿè´Ÿè´£çº¿ç¨‹è°ƒåº¦ï¼Œä¸ºäº†å®ç°é”çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶å”¤é†’é˜»å¡çš„çº¿ç¨‹æˆ–è€…è¿›ç¨‹ï¼Œéœ€è¦æŠŠé”äº¤ç»™æ“ä½œç³»ç»Ÿç®¡ç†ï¼Œæ‰€ä»¥äº’æ–¥é”åœ¨åŠ é”æ“ä½œæ—¶æ¶‰åŠä¸Šä¸‹æ–‡çš„åˆ‡æ¢ã€‚äº’æ–¥é”å®é™…çš„æ•ˆç‡è¿˜æ˜¯å¯ä»¥è®©äººæ¥å—çš„ï¼ŒåŠ é”çš„æ—¶é—´å¤§æ¦‚100nså·¦å³ï¼Œè€Œå®é™…ä¸Šäº’æ–¥é”çš„ä¸€ç§å¯èƒ½çš„å®ç°æ˜¯å…ˆè‡ªæ—‹ä¸€æ®µæ—¶é—´ï¼Œå½“è‡ªæ—‹çš„æ—¶é—´è¶…è¿‡é˜€å€¼ä¹‹åå†å°†çº¿ç¨‹æŠ•å…¥ç¡çœ ä¸­ï¼Œå› æ­¤åœ¨å¹¶å‘è¿ç®—ä¸­ä½¿ç”¨äº’æ–¥é”ï¼ˆæ¯æ¬¡å ç”¨é”çš„æ—¶é—´å¾ˆçŸ­ï¼‰çš„æ•ˆæœå¯èƒ½ä¸äºšäºä½¿ç”¨è‡ªæ—‹é”")]),t._v(" "),s("h3",{attrs:{id:"æ¡ä»¶å˜é‡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ä»¶å˜é‡"}},[t._v("#")]),t._v(" æ¡ä»¶å˜é‡")]),t._v(" "),s("p",[t._v("äº’æ–¥é”ä¸€ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹æ˜¯ä»–åªæœ‰ä¸¤ç§çŠ¶æ€ï¼šé”å®šå’Œéé”å®šã€‚è€Œæ¡ä»¶å˜é‡é€šè¿‡å…è®¸çº¿ç¨‹é˜»å¡å’Œç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹å‘é€ä¿¡å·çš„æ–¹æ³•å¼¥è¡¥äº†äº’æ–¥é”çš„ä¸è¶³ï¼Œä»–å¸¸å’Œäº’æ–¥é”ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…å‡ºç°ç«æ€æ¡ä»¶ã€‚å½“æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œçº¿ç¨‹å¾€å¾€è§£å¼€ç›¸åº”çš„äº’æ–¥é”å¹¶é˜»å¡çº¿ç¨‹ç„¶åç­‰å¾…æ¡ä»¶å‘ç”Ÿå˜åŒ–ã€‚ä¸€æ—¦å…¶ä»–çš„æŸä¸ªçº¿ç¨‹æ”¹å˜äº†æ¡ä»¶å˜é‡ï¼Œä»–å°†é€šçŸ¥ç›¸åº”çš„æ¡ä»¶å˜é‡å”¤é†’ä¸€ä¸ªæˆ–å¤šä¸ªæ­£è¢«æ­¤æ¡ä»¶å˜é‡é˜»å¡çš„çº¿ç¨‹ã€‚æ€»çš„æ¥è¯´"),s("strong",[t._v("äº’æ–¥é”æ˜¯çº¿ç¨‹é—´äº’æ–¥çš„æœºåˆ¶ï¼Œæ¡ä»¶å˜é‡åˆ™æ˜¯åŒæ­¥æœºåˆ¶ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"è‡ªæ—‹é”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªæ—‹é”"}},[t._v("#")]),t._v(" è‡ªæ—‹é”")]),t._v(" "),s("p",[t._v("å¦‚æœè¿›çº¿ç¨‹æ— æ³•å–å¾—é”ï¼Œè¿›çº¿ç¨‹ä¸ä¼šç«‹åˆ»æ”¾å¼ƒCPUæ—¶é—´ç‰‡ï¼Œè€Œæ˜¯ä¸€ç›´å¾ªç¯å°è¯•è·å–é”ï¼Œç›´åˆ°è·å–ä¸ºæ­¢ã€‚å¦‚æœåˆ«çš„çº¿ç¨‹é•¿æ—¶æœŸå æœ‰é”ï¼Œé‚£ä¹ˆè‡ªæ—‹å°±æ˜¯åœ¨æµªè´¹CPUåšæ— ç”¨åŠŸï¼Œä½†æ˜¯è‡ªæ—‹é”ä¸€èˆ¬åº”ç”¨äºåŠ é”æ—¶é—´å¾ˆçŸ­çš„åœºæ™¯ï¼Œè¿™ä¸ªæ—¶å€™æ•ˆç‡æ¯”è¾ƒé«˜ã€‚")]),t._v(" "),s("p",{attrs:{id:"ä½ çŸ¥é“å“ªå‡ ç§çº¿ç¨‹é”POSIX"}}),t._v(" "),s("h2",{attrs:{id:"_24-1ã€ä½ çŸ¥é“å“ªå‡ ç§çº¿ç¨‹é”-posix"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_24-1ã€ä½ çŸ¥é“å“ªå‡ ç§çº¿ç¨‹é”-posix"}},[t._v("#")]),t._v(" 24.1ã€ä½ çŸ¥é“å“ªå‡ ç§çº¿ç¨‹é”ï¼ˆPOSIXï¼‰ï¼Ÿ")]),t._v(" "),s("h3",{attrs:{id:"äº’æ–¥é”-mutex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äº’æ–¥é”-mutex"}},[t._v("#")]),t._v(" "),s("strong",[t._v("äº’æ–¥é”ï¼ˆmutexï¼‰")])]),t._v(" "),s("p",[t._v("äº’æ–¥é”å±äºsleep-waitingç±»å‹çš„é”ã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ªåŒæ ¸çš„æœºå™¨ä¸Šæœ‰ä¸¤ä¸ªçº¿ç¨‹Aå’ŒBï¼Œå®ƒä»¬åˆ†åˆ«è¿è¡Œåœ¨core 0å’Œcore 1ä¸Šã€‚å‡è®¾çº¿ç¨‹Aæƒ³è¦é€šè¿‡pthread_mutex_lockæ“ä½œå»å¾—åˆ°ä¸€ä¸ªä¸´ç•ŒåŒºçš„é”ï¼Œè€Œæ­¤æ—¶è¿™ä¸ªé”æ­£è¢«çº¿ç¨‹Bæ‰€æŒæœ‰ï¼Œé‚£ä¹ˆçº¿ç¨‹Aå°±ä¼šè¢«é˜»å¡ï¼Œæ­¤æ—¶ä¼šé€šè¿‡ä¸Šä¸‹æ–‡åˆ‡æ¢å°†çº¿ç¨‹Aç½®äºç­‰å¾…é˜Ÿåˆ—ä¸­ï¼Œæ­¤æ—¶core 0å°±å¯ä»¥è¿è¡Œå…¶ä»–çš„ä»»åŠ¡ï¼ˆå¦‚çº¿ç¨‹Cï¼‰ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æ¡ä»¶å˜é‡-cond"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ä»¶å˜é‡-cond"}},[t._v("#")]),t._v(" "),s("strong",[t._v("æ¡ä»¶å˜é‡(cond)")])]),t._v(" "),s("h3",{attrs:{id:"è‡ªæ—‹é”-spin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªæ—‹é”-spin"}},[t._v("#")]),t._v(" "),s("strong",[t._v("è‡ªæ—‹é”(spin)")])]),t._v(" "),s("p",[t._v("è‡ªæ—‹é”å±äºbusy-waitingç±»å‹çš„é”ï¼Œå¦‚æœçº¿ç¨‹Aæ˜¯ä½¿ç”¨pthread_spin_lockæ“ä½œå»è¯·æ±‚é”ï¼Œå¦‚æœè‡ªæ—‹é”å·²ç»è¢«çº¿ç¨‹Bæ‰€æŒæœ‰ï¼Œé‚£ä¹ˆçº¿ç¨‹Aå°±ä¼šä¸€ç›´åœ¨core 0ä¸Šè¿›è¡Œå¿™ç­‰å¾…å¹¶ä¸åœçš„è¿›è¡Œé”è¯·æ±‚ï¼Œæ£€æŸ¥è¯¥è‡ªæ—‹é”æ˜¯å¦å·²ç»è¢«çº¿ç¨‹Bé‡Šæ”¾ï¼Œç›´åˆ°å¾—åˆ°è¿™ä¸ªé”ä¸ºæ­¢ã€‚å› ä¸ºè‡ªæ—‹é”ä¸ä¼šå¼•èµ·è°ƒç”¨è€…ç¡çœ ï¼Œæ‰€ä»¥è‡ªæ—‹é”çš„æ•ˆç‡è¿œé«˜äºäº’æ–¥é”ã€‚")]),t._v(" "),s("p",[t._v("è™½ç„¶å®ƒçš„æ•ˆç‡æ¯”äº’æ–¥é”é«˜ï¼Œä½†æ˜¯å®ƒä¹Ÿæœ‰äº›ä¸è¶³ä¹‹å¤„ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("è‡ªæ—‹é”ä¸€ç›´å ç”¨CPUï¼Œåœ¨æœªè·å¾—é”çš„æƒ…å†µä¸‹ï¼Œä¸€ç›´è¿›è¡Œè‡ªæ—‹ï¼Œæ‰€ä»¥å ç”¨ç€CPUï¼Œå¦‚æœä¸èƒ½åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…è·å¾—é”ï¼Œæ— ç–‘ä¼šä½¿CPUæ•ˆç‡é™ä½ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("åœ¨ç”¨è‡ªæ—‹é”æ—¶æœ‰å¯èƒ½é€ æˆæ­»é”ï¼Œå½“é€’å½’è°ƒç”¨æ—¶æœ‰å¯èƒ½é€ æˆæ­»é”ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("è‡ªæ—‹é”åªæœ‰åœ¨å†…æ ¸å¯æŠ¢å å¼æˆ–SMPçš„æƒ…å†µä¸‹æ‰çœŸæ­£éœ€è¦ï¼Œåœ¨å•CPUä¸”ä¸å¯æŠ¢å å¼çš„å†…æ ¸ä¸‹ï¼Œè‡ªæ—‹é”çš„æ“ä½œä¸ºç©ºæ“ä½œã€‚è‡ªæ—‹é”é€‚ç”¨äºé”ä½¿ç”¨è€…ä¿æŒé”æ—¶é—´æ¯”è¾ƒçŸ­çš„æƒ…å†µä¸‹ã€‚")])])]),t._v(" "),s("p",{attrs:{id:"é€»è¾‘åœ°å€ä¸ºçˆ±æ­»ç‰©ç†åœ°å€"}}),t._v(" "),s("h2",{attrs:{id:"_25ã€é€»è¾‘åœ°å€vsç‰©ç†åœ°å€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_25ã€é€»è¾‘åœ°å€vsç‰©ç†åœ°å€"}},[t._v("#")]),t._v(" 25ã€é€»è¾‘åœ°å€VSç‰©ç†åœ°å€")]),t._v(" "),s("p",[t._v("Eg:ç¼–è¯‘æ—¶åªéœ€ç¡®å®šå˜é‡xå­˜æ”¾çš„ç›¸å¯¹åœ°å€æ˜¯100 ( ä¹Ÿå°±æ˜¯è¯´ç›¸å¯¹äºè¿›ç¨‹åœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€è€Œè¨€çš„åœ°å€)ã€‚CPUæƒ³è¦æ‰¾åˆ°xåœ¨å†…å­˜ä¸­çš„å®é™…å­˜æ”¾ä½ç½®ï¼Œåªéœ€è¦ç”¨è¿›ç¨‹çš„èµ·å§‹åœ°å€+100å³å¯ã€‚\nç›¸å¯¹åœ°å€åˆç§°é€»è¾‘åœ°å€ï¼Œç»å¯¹åœ°å€åˆç§°ç‰©ç†åœ°å€ã€‚")]),t._v(" "),s("p",{attrs:{id:"æ€ä¹ˆå›æ”¶çº¿ç¨‹æœ‰å“ªå‡ ç§æ–¹æ³•"}}),t._v(" "),s("h2",{attrs:{id:"_26ã€æ€ä¹ˆå›æ”¶çº¿ç¨‹-æœ‰å“ªå‡ ç§æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_26ã€æ€ä¹ˆå›æ”¶çº¿ç¨‹-æœ‰å“ªå‡ ç§æ–¹æ³•"}},[t._v("#")]),t._v(" 26ã€æ€ä¹ˆå›æ”¶çº¿ç¨‹ï¼Ÿæœ‰å“ªå‡ ç§æ–¹æ³•ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("ç­‰å¾…çº¿ç¨‹ç»“æŸï¼š")]),t._v(" int pthread_join(pthread_t tid, void** retval);")]),t._v(" "),s("p",[t._v("ä¸»çº¿ç¨‹è°ƒç”¨ï¼Œç­‰å¾…å­çº¿ç¨‹é€€å‡ºå¹¶å›æ”¶å…¶èµ„æºï¼Œç±»ä¼¼äºè¿›ç¨‹ä¸­wait/waitpidå›æ”¶åƒµå°¸è¿›ç¨‹ï¼Œè°ƒç”¨pthread_joinçš„çº¿ç¨‹ä¼šè¢«é˜»å¡ã€‚")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("tidï¼šåˆ›å»ºçº¿ç¨‹æ—¶é€šè¿‡æŒ‡é’ˆå¾—åˆ°tidå€¼ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("retvalï¼šæŒ‡å‘è¿”å›å€¼çš„æŒ‡é’ˆã€‚")])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ç»“æŸçº¿ç¨‹ï¼š")]),t._v(" void pthread_exit(void *retval);")]),t._v(" "),s("p",[t._v("å­çº¿ç¨‹æ‰§è¡Œï¼Œç”¨æ¥ç»“æŸå½“å‰çº¿ç¨‹å¹¶é€šè¿‡retvalä¼ é€’è¿”å›å€¼ï¼Œè¯¥è¿”å›å€¼å¯é€šè¿‡pthread_joinè·å¾—ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("retvalï¼šåŒä¸Šã€‚")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("åˆ†ç¦»çº¿ç¨‹ï¼š")]),t._v(" int pthread_detach(pthread_t tid);")]),t._v(" "),s("p",[t._v("ä¸»çº¿ç¨‹ã€å­çº¿ç¨‹å‡å¯è°ƒç”¨ã€‚ä¸»çº¿ç¨‹ä¸­pthread_detach(tid)ï¼Œå­çº¿ç¨‹ä¸­pthread_detach(pthread_self())ï¼Œè°ƒç”¨åå’Œä¸»çº¿ç¨‹åˆ†ç¦»ï¼Œå­çº¿ç¨‹ç»“æŸæ—¶è‡ªå·±ç«‹å³å›æ”¶èµ„æºã€‚")]),t._v(" "),s("ul",[s("li",[t._v("tidï¼šåŒä¸Šã€‚")])])])]),t._v(" "),s("p",{attrs:{id:"å†…å­˜çš„è¦†ç›–æ˜¯ä»€ä¹ˆæœ‰ä»€ä¹ˆç‰¹ç‚¹"}}),t._v(" "),s("h2",{attrs:{id:"_27ã€å†…å­˜çš„è¦†ç›–æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç‰¹ç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_27ã€å†…å­˜çš„è¦†ç›–æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç‰¹ç‚¹"}},[t._v("#")]),t._v(" 27ã€å†…å­˜çš„è¦†ç›–æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ")]),t._v(" "),s("p",[t._v("ç”±äºç¨‹åºè¿è¡Œæ—¶å¹¶éä»»ä½•æ—¶å€™éƒ½è¦è®¿é—®ç¨‹åºåŠæ•°æ®çš„å„ä¸ªéƒ¨åˆ†ï¼ˆå°¤å…¶æ˜¯å¤§ç¨‹åºï¼‰ï¼Œå› æ­¤å¯ä»¥æŠŠç”¨æˆ·ç©ºé—´åˆ†æˆä¸ºä¸€ä¸ªå›ºå®šåŒºå’Œè‹¥å¹²ä¸ªè¦†ç›–åŒºã€‚å°†ç»å¸¸æ´»è·ƒçš„éƒ¨åˆ†æ”¾åœ¨å›ºå®šåŒºï¼Œå…¶ä½™éƒ¨åˆ†æŒ‰ç…§è°ƒç”¨å…³ç³»åˆ†æ®µï¼Œé¦–å…ˆå°†é‚£äº›å³å°†è¦è®¿é—®çš„æ®µæ”¾å…¥è¦†ç›–åŒºï¼Œå…¶ä»–æ®µæ”¾åœ¨å¤–å­˜ä¸­ï¼Œåœ¨éœ€è¦è°ƒç”¨å‰ï¼Œç³»ç»Ÿå°†å…¶è°ƒå…¥è¦†ç›–åŒºï¼Œæ›¿æ¢è¦†ç›–åŒºä¸­åŸæœ‰çš„æ®µã€‚")]),t._v(" "),s("p",[t._v("è¦†ç›–æŠ€æœ¯çš„ç‰¹ç‚¹ï¼šæ˜¯æ‰“ç ´äº†å¿…é¡»å°†ä¸€ä¸ªè¿›ç¨‹çš„å…¨éƒ¨ä¿¡æ¯è£…å…¥å†…å­˜åæ‰èƒ½è¿è¡Œçš„é™åˆ¶ï¼Œä½†å½“åŒæ—¶è¿è¡Œç¨‹åºçš„ä»£ç é‡å¤§äºä¸»å­˜æ—¶ä»ä¸èƒ½è¿è¡Œï¼Œå†è€Œï¼Œå¤§å®¶è¦æ³¨æ„åˆ°ï¼Œå†…å­˜ä¸­èƒ½å¤Ÿæ›´æ–°çš„åœ°æ–¹åªæœ‰è¦†ç›–åŒºçš„æ®µï¼Œä¸åœ¨è¦†ç›–åŒºçš„æ®µä¼šå¸¸é©»å†…å­˜ã€‚")]),t._v(" "),s("p",{attrs:{id:"å†…å­˜äº¤æ¢æ˜¯ä»€ä¹ˆæœ‰ä»€ä¹ˆç‰¹ç‚¹"}}),t._v(" "),s("h2",{attrs:{id:"_28ã€å†…å­˜äº¤æ¢æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç‰¹ç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_28ã€å†…å­˜äº¤æ¢æ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç‰¹ç‚¹"}},[t._v("#")]),t._v(" 28ã€å†…å­˜äº¤æ¢æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ")]),t._v(" "),s("p",[s("strong",[t._v("äº¤æ¢(å¯¹æ¢)æŠ€æœ¯çš„è®¾è®¡æ€æƒ³")]),t._v("ï¼šå†…å­˜ç©ºé—´ç´§å¼ æ—¶ï¼Œç³»ç»Ÿå°†å†…å­˜ä¸­æŸäº›è¿›ç¨‹æš‚æ—¶æ¢å‡ºå¤–å­˜ï¼ŒæŠŠå¤–å­˜ä¸­æŸäº›å·²å…·å¤‡è¿è¡Œæ¡ä»¶çš„è¿›ç¨‹æ¢å…¥å†…å­˜(è¿›ç¨‹åœ¨å†…å­˜ä¸ç£ç›˜é—´åŠ¨æ€è°ƒåº¦)")]),t._v(" "),s("p",[t._v("æ¢å…¥ï¼šæŠŠå‡†å¤‡å¥½ç«äº‰CPUè¿è¡Œçš„ç¨‹åºä»è¾…å­˜ç§»åˆ°å†…å­˜ã€‚\næ¢å‡ºï¼šæŠŠå¤„äºç­‰å¾…çŠ¶æ€ï¼ˆæˆ–CPUè°ƒåº¦åŸåˆ™ä¸‹è¢«å‰¥å¤ºè¿è¡ŒæƒåŠ›ï¼‰çš„ç¨‹åºä»å†…å­˜ç§»åˆ°è¾…å­˜ï¼ŒæŠŠå†…å­˜ç©ºé—´è…¾å‡ºæ¥ã€‚")]),t._v(" "),s("p",{attrs:{id:"ä»€ä¹ˆæ—¶å€™ä¼šè¿›è¡Œå†…å­˜çš„äº¤æ¢"}}),t._v(" "),s("h2",{attrs:{id:"_29ã€ä»€ä¹ˆæ—¶å€™ä¼šè¿›è¡Œå†…å­˜çš„äº¤æ¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_29ã€ä»€ä¹ˆæ—¶å€™ä¼šè¿›è¡Œå†…å­˜çš„äº¤æ¢"}},[t._v("#")]),t._v(" 29ã€ä»€ä¹ˆæ—¶å€™ä¼šè¿›è¡Œå†…å­˜çš„äº¤æ¢ï¼Ÿ")]),t._v(" "),s("p",[t._v("å†…å­˜äº¤æ¢é€šå¸¸åœ¨è®¸å¤šè¿›ç¨‹è¿è¡Œä¸”å†…å­˜åƒç´§æ—¶è¿›è¡Œï¼Œè€Œç³»ç»Ÿè´Ÿè·é™ä½å°±æš‚åœã€‚ä¾‹å¦‚:åœ¨å‘ç°è®¸å¤šè¿›ç¨‹è¿è¡Œæ—¶ç»å¸¸å‘ç”Ÿç¼ºé¡µï¼Œå°±è¯´æ˜å†…å­˜ç´§å¼ ï¼Œæ­¤æ—¶å¯ä»¥æ¢å‡ºä¸€äº›è¿›ç¨‹;å¦‚æœç¼ºé¡µç‡æ˜æ˜¾ä¸‹é™ï¼Œå°±å¯ä»¥æš‚åœæ¢å‡ºã€‚")]),t._v(" "),s("p",{attrs:{id:"ç»ˆç«¯é€€å‡ºç»ˆç«¯è¿è¡Œçš„è¿›ç¨‹ä¼šæ€æ ·"}}),t._v(" "),s("h2",{attrs:{id:"_30ã€ç»ˆç«¯é€€å‡º-ç»ˆç«¯è¿è¡Œçš„è¿›ç¨‹ä¼šæ€æ ·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_30ã€ç»ˆç«¯é€€å‡º-ç»ˆç«¯è¿è¡Œçš„è¿›ç¨‹ä¼šæ€æ ·"}},[t._v("#")]),t._v(" 30ã€ç»ˆç«¯é€€å‡ºï¼Œç»ˆç«¯è¿è¡Œçš„è¿›ç¨‹ä¼šæ€æ ·")]),t._v(" "),s("p",[t._v("ç»ˆç«¯åœ¨é€€å‡ºæ—¶ä¼šå‘é€SIGHUPç»™å¯¹åº”çš„bashè¿›ç¨‹ï¼Œbashè¿›ç¨‹æ”¶åˆ°è¿™ä¸ªä¿¡å·åé¦–å…ˆå°†å®ƒå‘ç»™sessionä¸‹é¢çš„è¿›ç¨‹ï¼Œå¦‚æœç¨‹åºæ²¡æœ‰å¯¹SIGHUPä¿¡å·åšç‰¹æ®Šå¤„ç†ï¼Œé‚£ä¹ˆè¿›ç¨‹å°±ä¼šéšç€ç»ˆç«¯å…³é—­è€Œé€€å‡º")]),t._v(" "),s("p",{attrs:{id:"å¦‚ä½•è®©è¿›ç¨‹åå°è¿è¡Œ"}}),t._v(" "),s("h2",{attrs:{id:"_31ã€å¦‚ä½•è®©è¿›ç¨‹åå°è¿è¡Œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_31ã€å¦‚ä½•è®©è¿›ç¨‹åå°è¿è¡Œ"}},[t._v("#")]),t._v(" 31ã€å¦‚ä½•è®©è¿›ç¨‹åå°è¿è¡Œ")]),t._v(" "),s("p",[t._v("ï¼ˆ1ï¼‰å‘½ä»¤åé¢åŠ ä¸Š&å³å¯ï¼Œå®é™…ä¸Šï¼Œè¿™æ ·æ˜¯å°†å‘½ä»¤æ”¾å…¥åˆ°ä¸€ä¸ªä½œä¸šé˜Ÿåˆ—ä¸­äº†")]),t._v(" "),s("p",[t._v("ï¼ˆ2ï¼‰ctrl + z æŒ‚èµ·è¿›ç¨‹ï¼Œä½¿ç”¨jobsæŸ¥çœ‹åºå·ï¼Œåœ¨ä½¿ç”¨bg %åºå·åå°è¿è¡Œè¿›ç¨‹")]),t._v(" "),s("p",[t._v("ï¼ˆ3ï¼‰nohup + &ï¼Œå°†æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯ç¼ºçœä¼šè¢«é‡å®šå‘åˆ° nohup.out æ–‡ä»¶ä¸­ï¼Œå¿½ç•¥æ‰€æœ‰æŒ‚æ–­ï¼ˆSIGHUPï¼‰ä¿¡å·")]),t._v(" "),s("p",[t._v("ï¼ˆ4ï¼‰è¿è¡ŒæŒ‡ä»¤å‰é¢ + setsidï¼Œä½¿å…¶çˆ¶è¿›ç¨‹ç¼–ç¨‹initè¿›ç¨‹ï¼Œä¸å—HUPä¿¡å·çš„å½±å“")]),t._v(" "),s("p",[t._v("ï¼ˆ5ï¼‰å°† å‘½ä»¤+ &æ”¾åœ¨()æ‹¬å·ä¸­ï¼Œä¹Ÿå¯ä»¥æ˜¯è¿›ç¨‹ä¸å—HUPä¿¡å·çš„å½±å“")]),t._v(" "),s("p",{attrs:{id:"ä»€ä¹ˆæ˜¯å¿«è¡¨ä½ çŸ¥é“å¤šå°‘å…³äºå¿«è¡¨çš„çŸ¥è¯†"}}),t._v(" "),s("h2",{attrs:{id:"_32ã€ä»€ä¹ˆæ˜¯å¿«è¡¨-ä½ çŸ¥é“å¤šå°‘å…³äºå¿«è¡¨çš„çŸ¥è¯†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_32ã€ä»€ä¹ˆæ˜¯å¿«è¡¨-ä½ çŸ¥é“å¤šå°‘å…³äºå¿«è¡¨çš„çŸ¥è¯†"}},[t._v("#")]),t._v(" 32ã€ä»€ä¹ˆæ˜¯å¿«è¡¨ï¼Œä½ çŸ¥é“å¤šå°‘å…³äºå¿«è¡¨çš„çŸ¥è¯†ï¼Ÿ")]),t._v(" "),s("p",[t._v("å¿«è¡¨ï¼Œåˆç§°è”æƒ³å¯„å­˜å™¨(TLB) ï¼Œæ˜¯ä¸€ç§è®¿é—®é€Ÿåº¦æ¯”å†…å­˜å¿«å¾ˆå¤šçš„é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ï¼Œç”¨æ¥å­˜æ”¾å½“å‰è®¿é—®çš„è‹¥å¹²é¡µè¡¨é¡¹ï¼Œä»¥åŠ é€Ÿåœ°å€å˜æ¢çš„è¿‡ç¨‹ã€‚ä¸æ­¤å¯¹åº”ï¼Œå†…å­˜ä¸­çš„é¡µè¡¨å¸¸ç§°ä¸ºæ…¢è¡¨ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://oss.interviewguide.cn/img/202205212343703.png",alt:""}})]),t._v(" "),s("p",{attrs:{id:"åœ°å€å˜æ¢ä¸­æœ‰å¿«è¡¨å’Œæ²¡å¿«è¡¨æœ‰ä»€ä¹ˆåŒºåˆ«"}}),t._v(" "),s("h2",{attrs:{id:"_33ã€åœ°å€å˜æ¢ä¸­-æœ‰å¿«è¡¨å’Œæ²¡å¿«è¡¨-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_33ã€åœ°å€å˜æ¢ä¸­-æœ‰å¿«è¡¨å’Œæ²¡å¿«è¡¨-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[t._v("#")]),t._v(" 33ã€åœ°å€å˜æ¢ä¸­ï¼Œæœ‰å¿«è¡¨å’Œæ²¡å¿«è¡¨ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th",[t._v("åœ°å€å˜æ¢è¿‡ç¨‹")]),t._v(" "),s("th",[t._v("è®¿é—®ä¸€ä¸ªé€»è¾‘åœ°å€çš„è®¿å­˜æ¬¡æ•°")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("åŸºæœ¬åœ°å€å˜æ¢æœºæ„")]),t._v(" "),s("td",[t._v("â‘ ç®—é¡µå·ã€é¡µå†…åç§»é‡ â‘¡æ£€æŸ¥é¡µå·åˆæ³•æ€§ â‘¢æŸ¥é¡µè¡¨ï¼Œæ‰¾åˆ°é¡µé¢å­˜æ”¾çš„å†…å­˜å—å· â‘£æ ¹æ®å†…å­˜å—å·ä¸é¡µå†…åç§»é‡å¾—åˆ°ç‰©ç†åœ°å€ â‘¤è®¿é—®ç›®æ ‡å†…å­˜å•å…ƒ")]),t._v(" "),s("td",[t._v("ä¸¤æ¬¡è®¿å­˜")])]),t._v(" "),s("tr",[s("td",[t._v("å…·æœ‰å¿«è¡¨çš„åœ°å€å˜æ¢æœºæ„")]),t._v(" "),s("td",[t._v("â‘ ç®—é¡µå·ã€é¡µå†…åç§»é‡ â‘¡æ£€æŸ¥é¡µå·åˆæ³•æ€§ â‘¢æŸ¥å¿«è¡¨ã€‚è‹¥å‘½ä¸­ï¼Œå³å¯çŸ¥é“é¡µé¢å­˜æ”¾çš„å†…å­˜å—å·ï¼Œå¯ç›´æ¥è¿›è¡Œâ‘¤;è‹¥æœªå‘½ä¸­åˆ™è¿›è¡Œâ‘£ â‘£æŸ¥é¡µè¡¨ï¼Œæ‰¾åˆ°é¡µé¢å­˜æ”¾çš„å†…å­˜å—å·ï¼Œå¹¶ä¸”å°†é¡µè¡¨é¡¹å¤åˆ¶åˆ°å¿«è¡¨ä¸­ â‘¤æ ¹æ®å†…å­˜å—å·ä¸é¡µå†…åç§»é‡å¾—åˆ°ç‰©ç†åœ°å€ â‘¥è®¿é—®ç›®æ ‡å†…å­˜å•å…ƒ")]),t._v(" "),s("td",[t._v("å¿«è¡¨å‘½ä¸­ï¼Œåªéœ€ä¸€æ¬¡è®¿å­˜ å¿«è¡¨æœªå‘½ä¸­ï¼Œéœ€è¦ä¸¤æ¬¡è®¿å­˜")])])])]),t._v(" "),s("p",{attrs:{id:"åœ¨æ‰§è¡Œmallocç”³è¯·å†…å­˜çš„æ—¶å€™æ“ä½œç³»ç»Ÿæ˜¯æ€ä¹ˆåšçš„"}}),t._v(" "),s("h2",{attrs:{id:"_34ã€åœ¨æ‰§è¡Œmallocç”³è¯·å†…å­˜çš„æ—¶å€™-æ“ä½œç³»ç»Ÿæ˜¯æ€ä¹ˆåšçš„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_34ã€åœ¨æ‰§è¡Œmallocç”³è¯·å†…å­˜çš„æ—¶å€™-æ“ä½œç³»ç»Ÿæ˜¯æ€ä¹ˆåšçš„"}},[t._v("#")]),t._v(" 34ã€åœ¨æ‰§è¡Œmallocç”³è¯·å†…å­˜çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿæ˜¯æ€ä¹ˆåšçš„ï¼Ÿ")]),t._v(" "),s("p",[t._v("ä»æ“ä½œç³»ç»Ÿå±‚é¢ä¸Šçœ‹ï¼Œmallocæ˜¯é€šè¿‡ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨æ¥å®ç°çš„ï¼š brkå’Œmmap")]),t._v(" "),s("ul",[s("li",[t._v("brkæ˜¯å°†è¿›ç¨‹æ•°æ®æ®µ(.data)çš„æœ€é«˜åœ°å€æŒ‡é’ˆå‘é«˜å¤„ç§»åŠ¨ï¼Œè¿™ä¸€æ­¥å¯ä»¥æ‰©å¤§è¿›ç¨‹åœ¨è¿è¡Œæ—¶çš„å †å¤§å°")]),t._v(" "),s("li",[t._v("mmapæ˜¯åœ¨è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­å¯»æ‰¾ä¸€å—ç©ºé—²çš„è™šæ‹Ÿå†…å­˜ï¼Œè¿™ä¸€æ­¥å¯ä»¥è·å¾—ä¸€å—å¯ä»¥æ“ä½œçš„å †å†…å­˜ã€‚")])]),t._v(" "),s("p",[t._v("é€šå¸¸ï¼Œåˆ†é…çš„å†…å­˜å°äº128kæ—¶ï¼Œä½¿ç”¨brkè°ƒç”¨æ¥è·å¾—è™šæ‹Ÿå†…å­˜ï¼Œå¤§äº128kæ—¶å°±ä½¿ç”¨mmapæ¥è·å¾—è™šæ‹Ÿå†…å­˜ã€‚")]),t._v(" "),s("p",[t._v("è¿›ç¨‹å…ˆé€šè¿‡è¿™ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨è·å–æˆ–è€…æ‰©å¤§è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ï¼Œè·å¾—ç›¸åº”çš„è™šæ‹Ÿåœ°å€ï¼Œåœ¨è®¿é—®è¿™äº›è™šæ‹Ÿåœ°å€çš„æ—¶å€™ï¼Œé€šè¿‡ç¼ºé¡µä¸­æ–­ï¼Œè®©å†…æ ¸åˆ†é…ç›¸åº”çš„ç‰©ç†å†…å­˜ï¼Œè¿™æ ·å†…å­˜åˆ†é…æ‰ç®—å®Œæˆã€‚")]),t._v(" "),s("p",{attrs:{id:"å®ˆæŠ¤è¿›ç¨‹åƒµå°¸è¿›ç¨‹å’Œå­¤å„¿è¿›ç¨‹"}}),t._v(" "),s("h2",{attrs:{id:"_35ã€-å®ˆæŠ¤è¿›ç¨‹ã€åƒµå°¸è¿›ç¨‹å’Œå­¤å„¿è¿›ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_35ã€-å®ˆæŠ¤è¿›ç¨‹ã€åƒµå°¸è¿›ç¨‹å’Œå­¤å„¿è¿›ç¨‹"}},[t._v("#")]),t._v(" 35ã€ å®ˆæŠ¤è¿›ç¨‹ã€åƒµå°¸è¿›ç¨‹å’Œå­¤å„¿è¿›ç¨‹")]),t._v(" "),s("h3",{attrs:{id:"å®ˆæŠ¤è¿›ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®ˆæŠ¤è¿›ç¨‹"}},[t._v("#")]),t._v(" å®ˆæŠ¤è¿›ç¨‹")]),t._v(" "),s("p",[t._v("æŒ‡åœ¨åå°è¿è¡Œçš„ï¼Œæ²¡æœ‰æ§åˆ¶ç»ˆç«¯ä¸ä¹‹ç›¸è¿çš„è¿›ç¨‹ã€‚å®ƒç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯ï¼Œå‘¨æœŸæ€§åœ°æ‰§è¡ŒæŸç§ä»»åŠ¡ã€‚Linuxçš„å¤§å¤šæ•°æœåŠ¡å™¨å°±æ˜¯ç”¨å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å®ç°çš„ï¼Œå¦‚webæœåŠ¡å™¨è¿›ç¨‹httpç­‰")]),t._v(" "),s("p",[t._v("åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹è¦ç‚¹ï¼š")]),t._v(" "),s("p",[t._v("ï¼ˆ1ï¼‰è®©ç¨‹åºåœ¨åå°æ‰§è¡Œã€‚æ–¹æ³•æ˜¯è°ƒç”¨forkï¼ˆï¼‰äº§ç”Ÿä¸€ä¸ªå­è¿›ç¨‹ï¼Œç„¶åä½¿çˆ¶è¿›ç¨‹é€€å‡ºã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ2ï¼‰è°ƒç”¨setsidï¼ˆï¼‰åˆ›å»ºä¸€ä¸ªæ–°å¯¹è¯æœŸã€‚æ§åˆ¶ç»ˆç«¯ã€ç™»å½•ä¼šè¯å’Œè¿›ç¨‹ç»„é€šå¸¸æ˜¯ä»çˆ¶è¿›ç¨‹ç»§æ‰¿ä¸‹æ¥çš„ï¼Œå®ˆæŠ¤è¿›ç¨‹è¦æ‘†è„±å®ƒä»¬ï¼Œä¸å—å®ƒä»¬çš„å½±å“ï¼Œæ–¹æ³•æ˜¯è°ƒç”¨setsidï¼ˆï¼‰ä½¿è¿›ç¨‹æˆä¸ºä¸€ä¸ªä¼šè¯ç»„é•¿ã€‚setsidï¼ˆï¼‰è°ƒç”¨æˆåŠŸåï¼Œè¿›ç¨‹æˆä¸ºæ–°çš„ä¼šè¯ç»„é•¿å’Œè¿›ç¨‹ç»„é•¿ï¼Œå¹¶ä¸åŸæ¥çš„ç™»å½•ä¼šè¯ã€è¿›ç¨‹ç»„å’Œæ§åˆ¶ç»ˆç«¯è„±ç¦»ã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ3ï¼‰ç¦æ­¢è¿›ç¨‹é‡æ–°æ‰“å¼€æ§åˆ¶ç»ˆç«¯ã€‚ç»è¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œè¿›ç¨‹å·²ç»æˆä¸ºä¸€ä¸ªæ— ç»ˆç«¯çš„ä¼šè¯ç»„é•¿ï¼Œä½†æ˜¯å®ƒå¯ä»¥é‡æ–°ç”³è¯·æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œå¯ä»¥é€šè¿‡ä½¿è¿›ç¨‹ä¸å†æ˜¯ä¼šè¯ç»„é•¿æ¥å®ç°ã€‚å†ä¸€æ¬¡é€šè¿‡forkï¼ˆï¼‰åˆ›å»ºæ–°çš„å­è¿›ç¨‹ï¼Œä½¿è°ƒç”¨forkçš„è¿›ç¨‹é€€å‡ºã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ4ï¼‰å…³é—­ä¸å†éœ€è¦çš„æ–‡ä»¶æè¿°ç¬¦ã€‚å­è¿›ç¨‹ä»çˆ¶è¿›ç¨‹ç»§æ‰¿æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ã€‚å¦‚ä¸å…³é—­ï¼Œå°†ä¼šæµªè´¹ç³»ç»Ÿèµ„æºï¼Œé€ æˆè¿›ç¨‹æ‰€åœ¨çš„æ–‡ä»¶ç³»ç»Ÿæ— æ³•å¸ä¸‹ä»¥åŠå¼•èµ·æ— æ³•é¢„æ–™çš„é”™è¯¯ã€‚é¦–å…ˆè·å¾—æœ€é«˜æ–‡ä»¶æè¿°ç¬¦å€¼ï¼Œç„¶åç”¨ä¸€ä¸ªå¾ªç¯ç¨‹åºï¼Œå…³é—­0åˆ°æœ€é«˜æ–‡ä»¶æè¿°ç¬¦å€¼çš„æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦ã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ5ï¼‰å°†å½“å‰ç›®å½•æ›´æ”¹ä¸ºæ ¹ç›®å½•ã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ6ï¼‰å­è¿›ç¨‹ä»çˆ¶è¿›ç¨‹ç»§æ‰¿çš„æ–‡ä»¶åˆ›å»ºå±è”½å­—å¯èƒ½ä¼šæ‹’ç»æŸäº›è®¸å¯æƒã€‚ä¸ºé˜²æ­¢è¿™ä¸€ç‚¹ï¼Œä½¿ç”¨unmaskï¼ˆ0ï¼‰å°†å±è”½å­—æ¸…é›¶ã€‚")]),t._v(" "),s("p",[t._v("ï¼ˆ7ï¼‰å¤„ç†SIGCHLDä¿¡å·ã€‚å¯¹äºæœåŠ¡å™¨è¿›ç¨‹ï¼Œåœ¨è¯·æ±‚åˆ°æ¥æ—¶å¾€å¾€ç”Ÿæˆå­è¿›ç¨‹å¤„ç†è¯·æ±‚ã€‚å¦‚æœå­è¿›ç¨‹ç­‰å¾…çˆ¶è¿›ç¨‹æ•è·çŠ¶æ€ï¼Œåˆ™å­è¿›ç¨‹å°†æˆä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆzombieï¼‰ï¼Œä»è€Œå ç”¨ç³»ç»Ÿèµ„æºã€‚å¦‚æœçˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œå°†å¢åŠ çˆ¶è¿›ç¨‹çš„è´Ÿæ‹…ï¼Œå½±å“æœåŠ¡å™¨è¿›ç¨‹çš„å¹¶å‘æ€§èƒ½ã€‚åœ¨Linuxä¸‹å¯ä»¥ç®€å•åœ°å°†SIGCHLDä¿¡å·çš„æ“ä½œè®¾ä¸ºSIG_IGNã€‚è¿™æ ·ï¼Œå­è¿›ç¨‹ç»“æŸæ—¶ä¸ä¼šäº§ç”Ÿåƒµå°¸è¿›ç¨‹ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å­¤å„¿è¿›ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å­¤å„¿è¿›ç¨‹"}},[t._v("#")]),t._v(" å­¤å„¿è¿›ç¨‹")]),t._v(" "),s("p",[t._v("å¦‚æœçˆ¶è¿›ç¨‹å…ˆé€€å‡ºï¼Œå­è¿›ç¨‹è¿˜æ²¡é€€å‡ºï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹å°†å˜ä¸ºinitè¿›ç¨‹ã€‚ï¼ˆæ³¨ï¼šä»»ä½•ä¸€ä¸ªè¿›ç¨‹éƒ½å¿…é¡»æœ‰çˆ¶è¿›ç¨‹ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªçˆ¶è¿›ç¨‹é€€å‡ºï¼Œè€Œå®ƒçš„ä¸€ä¸ªæˆ–å¤šä¸ªå­è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œé‚£ä¹ˆé‚£äº›å­è¿›ç¨‹å°†æˆä¸ºå­¤å„¿è¿›ç¨‹ã€‚å­¤å„¿è¿›ç¨‹å°†è¢«initè¿›ç¨‹(è¿›ç¨‹å·ä¸º1)æ‰€æ”¶å…»ï¼Œå¹¶ç”±initè¿›ç¨‹å¯¹å®ƒä»¬å®ŒæˆçŠ¶æ€æ”¶é›†å·¥ä½œã€‚")]),t._v(" "),s("h3",{attrs:{id:"åƒµå°¸è¿›ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åƒµå°¸è¿›ç¨‹"}},[t._v("#")]),t._v(" åƒµå°¸è¿›ç¨‹")]),t._v(" "),s("p",[t._v("å¦‚æœå­è¿›ç¨‹å…ˆé€€å‡ºï¼Œçˆ¶è¿›ç¨‹è¿˜æ²¡é€€å‡ºï¼Œé‚£ä¹ˆå­è¿›ç¨‹å¿…é¡»ç­‰åˆ°çˆ¶è¿›ç¨‹æ•è·åˆ°äº†å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€æ‰çœŸæ­£ç»“æŸï¼Œå¦åˆ™è¿™ä¸ªæ—¶å€™å­è¿›ç¨‹å°±æˆä¸ºåƒµå°¸è¿›ç¨‹ã€‚")]),t._v(" "),s("p",[t._v("è®¾ç½®"),s("strong",[t._v("åƒµå°¸è¿›ç¨‹çš„ç›®")]),t._v("çš„æ˜¯ç»´æŠ¤å­è¿›ç¨‹çš„ä¿¡æ¯ï¼Œä»¥ä¾¿çˆ¶è¿›ç¨‹åœ¨ä»¥åæŸä¸ªæ—¶å€™è·å–ã€‚è¿™äº›ä¿¡æ¯è‡³å°‘åŒ…æ‹¬è¿›ç¨‹IDï¼Œè¿›ç¨‹çš„ç»ˆæ­¢çŠ¶æ€ï¼Œä»¥åŠè¯¥è¿›ç¨‹ä½¿ç”¨çš„CPUæ—¶é—´ï¼Œæ‰€ä»¥å½“ç»ˆæ­¢å­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹è°ƒç”¨waitæˆ–waitpidæ—¶å°±å¯ä»¥å¾—åˆ°è¿™äº›ä¿¡æ¯ã€‚å¦‚æœä¸€ä¸ªè¿›ç¨‹ç»ˆæ­¢ï¼Œè€Œè¯¥è¿›ç¨‹æœ‰å­è¿›ç¨‹å¤„äºåƒµå°¸çŠ¶æ€ï¼Œé‚£ä¹ˆå®ƒçš„æ‰€æœ‰åƒµå°¸å­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹IDå°†è¢«é‡ç½®ä¸º1ï¼ˆinitè¿›ç¨‹ï¼‰ã€‚ç»§æ‰¿è¿™äº›å­è¿›ç¨‹çš„initè¿›ç¨‹å°†æ¸…ç†å®ƒä»¬ï¼ˆä¹Ÿå°±æ˜¯è¯´initè¿›ç¨‹å°†waitå®ƒä»¬ï¼Œä»è€Œå»é™¤å®ƒä»¬çš„åƒµå°¸çŠ¶æ€ï¼‰ã€‚")]),t._v(" "),s("p",{attrs:{id:"å¦‚ä½•é¿å…åƒµå°¸è¿›ç¨‹"}}),t._v(" "),s("h2",{attrs:{id:"_36ã€å¦‚ä½•é¿å…åƒµå°¸è¿›ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_36ã€å¦‚ä½•é¿å…åƒµå°¸è¿›ç¨‹"}},[t._v("#")]),t._v(" 36ã€å¦‚ä½•é¿å…åƒµå°¸è¿›ç¨‹ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("é€šè¿‡signal(SIGCHLD, SIG_IGN)é€šçŸ¥å†…æ ¸å¯¹å­è¿›ç¨‹çš„ç»“æŸä¸å…³å¿ƒï¼Œç”±å†…æ ¸å›æ”¶ã€‚å¦‚æœä¸æƒ³è®©çˆ¶è¿›ç¨‹æŒ‚èµ·ï¼Œå¯ä»¥åœ¨çˆ¶è¿›ç¨‹ä¸­åŠ å…¥ä¸€æ¡è¯­å¥ï¼šsignal(SIGCHLD,SIG_IGN);è¡¨ç¤ºçˆ¶è¿›ç¨‹å¿½ç•¥SIGCHLDä¿¡å·ï¼Œè¯¥ä¿¡å·æ˜¯å­è¿›ç¨‹é€€å‡ºçš„æ—¶å€™å‘çˆ¶è¿›ç¨‹å‘é€çš„ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("çˆ¶è¿›ç¨‹è°ƒç”¨wait/waitpidç­‰å‡½æ•°ç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œå¦‚æœå°šæ— å­è¿›ç¨‹é€€å‡ºwaitä¼šå¯¼è‡´çˆ¶è¿›ç¨‹é˜»å¡ã€‚waitpidå¯ä»¥é€šè¿‡ä¼ é€’WNOHANGä½¿çˆ¶è¿›ç¨‹ä¸é˜»å¡ç«‹å³è¿”å›ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("å¦‚æœçˆ¶è¿›ç¨‹å¾ˆå¿™å¯ä»¥ç”¨signalæ³¨å†Œä¿¡å·å¤„ç†å‡½æ•°ï¼Œåœ¨ä¿¡å·å¤„ç†å‡½æ•°è°ƒç”¨wait/waitpidç­‰å¾…å­è¿›ç¨‹é€€å‡ºã€‚")])]),t._v(" "),s("li",[s("p",[t._v("é€šè¿‡ä¸¤æ¬¡è°ƒç”¨forkã€‚çˆ¶è¿›ç¨‹é¦–å…ˆè°ƒç”¨forkåˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ç„¶åwaitpidç­‰å¾…å­è¿›ç¨‹é€€å‡ºï¼Œå­è¿›ç¨‹å†forkä¸€ä¸ªå­™è¿›ç¨‹åé€€å‡ºã€‚è¿™æ ·å­è¿›ç¨‹é€€å‡ºåä¼šè¢«çˆ¶è¿›ç¨‹ç­‰å¾…å›æ”¶ï¼Œè€Œå¯¹äºå­™å­è¿›ç¨‹å…¶çˆ¶è¿›ç¨‹å·²ç»é€€å‡ºæ‰€ä»¥å­™è¿›ç¨‹æˆä¸ºä¸€ä¸ªå­¤å„¿è¿›ç¨‹ï¼Œå­¤å„¿è¿›ç¨‹ç”±initè¿›ç¨‹æ¥ç®¡ï¼Œå­™è¿›ç¨‹ç»“æŸåï¼Œinitä¼šç­‰å¾…å›æ”¶ã€‚")])])]),t._v(" "),s("p",[t._v("ç¬¬ä¸€ç§æ–¹æ³•å¿½ç•¥SIGCHLDä¿¡å·ï¼Œè¿™å¸¸ç”¨äºå¹¶å‘æœåŠ¡å™¨çš„æ€§èƒ½çš„ä¸€ä¸ªæŠ€å·§å› ä¸ºå¹¶å‘æœåŠ¡å™¨å¸¸å¸¸forkå¾ˆå¤šå­è¿›ç¨‹ï¼Œå­è¿›ç¨‹ç»ˆç»“ä¹‹åéœ€è¦æœåŠ¡å™¨è¿›ç¨‹å»waitæ¸…ç†èµ„æºã€‚å¦‚æœå°†æ­¤ä¿¡å·çš„å¤„ç†æ–¹å¼è®¾ä¸ºå¿½ç•¥ï¼Œå¯è®©å†…æ ¸æŠŠåƒµå°¸å­è¿›ç¨‹è½¬äº¤ç»™initè¿›ç¨‹å»å¤„ç†ï¼Œçœå»äº†å¤§é‡åƒµå°¸è¿›ç¨‹å ç”¨ç³»ç»Ÿèµ„æºã€‚")]),t._v(" "),s("p",{attrs:{id:"å±€éƒ¨æ€§åŸç†ä½ çŸ¥é“å—ä¸»è¦æœ‰å“ªä¸¤å¤§å±€éƒ¨æ€§åŸç†å„è‡ªæ˜¯ä»€ä¹ˆ"}}),t._v(" "),s("h2",{attrs:{id:"_37ã€å±€éƒ¨æ€§åŸç†ä½ çŸ¥é“å—-ä¸»è¦æœ‰å“ªä¸¤å¤§å±€éƒ¨æ€§åŸç†-å„è‡ªæ˜¯ä»€ä¹ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_37ã€å±€éƒ¨æ€§åŸç†ä½ çŸ¥é“å—-ä¸»è¦æœ‰å“ªä¸¤å¤§å±€éƒ¨æ€§åŸç†-å„è‡ªæ˜¯ä»€ä¹ˆ"}},[t._v("#")]),t._v(" 37ã€å±€éƒ¨æ€§åŸç†ä½ çŸ¥é“å—ï¼Ÿä¸»è¦æœ‰å“ªä¸¤å¤§å±€éƒ¨æ€§åŸç†ï¼Ÿå„è‡ªæ˜¯ä»€ä¹ˆï¼Ÿ")]),t._v(" "),s("p",[t._v("ä¸»è¦åˆ†ä¸º"),s("strong",[t._v("æ—¶é—´å±€éƒ¨æ€§å’Œç©ºé—´å±€éƒ¨æ€§")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("æ—¶é—´å±€éƒ¨æ€§:å¦‚æœæ‰§è¡Œäº†ç¨‹åºä¸­çš„æŸæ¡æŒ‡ä»¤ï¼Œé‚£ä¹ˆä¸ä¹…åè¿™æ¡æŒ‡ä»¤å¾ˆæœ‰å¯èƒ½å†æ¬¡æ‰§è¡Œ;å¦‚æœæŸä¸ªæ•°æ®è¢«è®¿é—®è¿‡ï¼Œä¸ä¹…ä¹‹åè¯¥æ•°æ®å¾ˆå¯èƒ½å†æ¬¡è¢«è®¿é—®ã€‚(å› ä¸ºç¨‹åºä¸­å­˜åœ¨å¤§é‡çš„å¾ªç¯)\nç©ºé—´å±€éƒ¨æ€§:ä¸€æ—¦ç¨‹åºè®¿é—®äº†æŸä¸ªå­˜å‚¨å•å…ƒï¼Œåœ¨ä¸ä¹…ä¹‹åï¼Œå…¶é™„è¿‘çš„å­˜å‚¨å•å…ƒä¹Ÿå¾ˆæœ‰å¯èƒ½è¢«è®¿é—®ã€‚(å› ä¸ºå¾ˆå¤šæ•°æ®åœ¨å†…å­˜ä¸­éƒ½æ˜¯è¿ç»­å­˜æ”¾çš„ï¼Œå¹¶ä¸”ç¨‹åºçš„æŒ‡ä»¤ä¹Ÿæ˜¯é¡ºåºåœ°åœ¨å†…å­˜ä¸­å­˜æ”¾çš„)")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://oss.interviewguide.cn/img/202205212344455.png",alt:""}})]),t._v(" "),s("p",{attrs:{id:"çˆ¶è¿›ç¨‹å­è¿›ç¨‹è¿›ç¨‹ç»„ä½œä¸šå’Œä¼šè¯"}}),t._v(" "),s("h2",{attrs:{id:"_38ã€çˆ¶è¿›ç¨‹ã€å­è¿›ç¨‹ã€è¿›ç¨‹ç»„ã€ä½œä¸šå’Œä¼šè¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_38ã€çˆ¶è¿›ç¨‹ã€å­è¿›ç¨‹ã€è¿›ç¨‹ç»„ã€ä½œä¸šå’Œä¼šè¯"}},[t._v("#")]),t._v(" 38ã€çˆ¶è¿›ç¨‹ã€å­è¿›ç¨‹ã€è¿›ç¨‹ç»„ã€ä½œä¸šå’Œä¼šè¯")]),t._v(" "),s("h3",{attrs:{id:"çˆ¶è¿›ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çˆ¶è¿›ç¨‹"}},[t._v("#")]),t._v(" çˆ¶è¿›ç¨‹")]),t._v(" "),s("p",[t._v("å·²åˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªå­è¿›ç¨‹çš„è¿›ç¨‹")]),t._v(" "),s("h3",{attrs:{id:"å­è¿›ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å­è¿›ç¨‹"}},[t._v("#")]),t._v(" å­è¿›ç¨‹")]),t._v(" "),s("p",[t._v("ç”±forkåˆ›å»ºçš„æ–°è¿›ç¨‹è¢«ç§°ä¸ºå­è¿›ç¨‹ï¼ˆchild processï¼‰ã€‚è¯¥å‡½æ•°è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œä½†è¿”å›ä¸¤æ¬¡ã€‚ä¸¤æ¬¡è¿”å›çš„åŒºåˆ«æ˜¯å­è¿›ç¨‹çš„è¿”å›å€¼æ˜¯0ï¼Œè€Œçˆ¶è¿›ç¨‹çš„è¿”å›å€¼åˆ™æ˜¯æ–°è¿›ç¨‹ï¼ˆå­è¿›ç¨‹ï¼‰çš„è¿›ç¨‹ idã€‚å°†å­è¿›ç¨‹idè¿”å›ç»™çˆ¶è¿›ç¨‹çš„ç†ç”±æ˜¯ï¼šå› ä¸ºä¸€ä¸ªè¿›ç¨‹çš„å­è¿›ç¨‹å¯ä»¥å¤šäºä¸€ä¸ªï¼Œæ²¡æœ‰ä¸€ä¸ªå‡½æ•°ä½¿ä¸€ä¸ªè¿›ç¨‹å¯ä»¥è·å¾—å…¶æ‰€æœ‰å­è¿›ç¨‹çš„è¿›ç¨‹idã€‚å¯¹å­è¿›ç¨‹æ¥è¯´ï¼Œä¹‹æ‰€ä»¥forkè¿”å›0ç»™å®ƒï¼Œæ˜¯å› ä¸ºå®ƒéšæ—¶å¯ä»¥è°ƒç”¨getpid()æ¥è·å–è‡ªå·±çš„pidï¼›ä¹Ÿå¯ä»¥è°ƒç”¨getppid()æ¥è·å–çˆ¶è¿›ç¨‹çš„idã€‚(è¿›ç¨‹id 0æ€»æ˜¯ç”±äº¤æ¢è¿›ç¨‹ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸€ä¸ªå­è¿›ç¨‹çš„è¿›ç¨‹idä¸å¯èƒ½ä¸º0 )ã€‚")]),t._v(" "),s("p",[t._v("forkä¹‹åï¼Œæ“ä½œç³»ç»Ÿä¼šå¤åˆ¶ä¸€ä¸ªä¸çˆ¶è¿›ç¨‹å®Œå…¨ç›¸åŒçš„å­è¿›ç¨‹ï¼Œè™½è¯´æ˜¯çˆ¶å­å…³ç³»ï¼Œä½†æ˜¯åœ¨æ“ä½œç³»ç»Ÿçœ‹æ¥ï¼Œä»–ä»¬æ›´åƒå…„å¼Ÿå…³ç³»ï¼Œè¿™2ä¸ªè¿›ç¨‹å…±äº«ä»£ç ç©ºé—´ï¼Œä½†æ˜¯æ•°æ®ç©ºé—´æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œå­è¿›ç¨‹æ•°æ®ç©ºé—´ä¸­çš„å†…å®¹æ˜¯çˆ¶è¿›ç¨‹çš„å®Œæ•´æ‹·è´ï¼ŒæŒ‡ä»¤æŒ‡é’ˆä¹Ÿå®Œå…¨ç›¸åŒï¼Œå­è¿›ç¨‹æ‹¥æœ‰çˆ¶è¿›ç¨‹å½“å‰è¿è¡Œåˆ°çš„ä½ç½®ï¼ˆä¸¤è¿›ç¨‹çš„ç¨‹åºè®¡æ•°å™¨pcå€¼ç›¸åŒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­è¿›ç¨‹æ˜¯ä»forkè¿”å›å¤„å¼€å§‹æ‰§è¡Œçš„ï¼‰ï¼Œä½†æœ‰ä¸€ç‚¹ä¸åŒï¼Œå¦‚æœforkæˆåŠŸï¼Œå­è¿›ç¨‹ä¸­forkçš„è¿”å›å€¼æ˜¯0ï¼Œçˆ¶è¿›ç¨‹ä¸­forkçš„è¿”å›å€¼æ˜¯å­è¿›ç¨‹çš„è¿›ç¨‹å·ï¼Œå¦‚æœforkä¸æˆåŠŸï¼Œçˆ¶è¿›ç¨‹ä¼šè¿”å›é”™è¯¯ã€‚")]),t._v(" "),s("p",[t._v("å­è¿›ç¨‹ä»çˆ¶è¿›ç¨‹ç»§æ‰¿çš„æœ‰ï¼š")]),t._v(" "),s("p",[t._v("1.è¿›ç¨‹çš„èµ„æ ¼(çœŸå®(real)/æœ‰æ•ˆ(effective)/å·²ä¿å­˜(saved)ç”¨æˆ·å·(UIDs)å’Œç»„å·(GIDs))")]),t._v(" "),s("p",[t._v("2.ç¯å¢ƒ(environment)")]),t._v(" "),s("p",[t._v("3.å †æ ˆ")]),t._v(" "),s("p",[t._v("4.å†…å­˜")]),t._v(" "),s("p",[t._v("5.è¿›ç¨‹ç»„å·")]),t._v(" "),s("p",[t._v("ç‹¬æœ‰ï¼š")]),t._v(" "),s("p",[t._v("1.è¿›ç¨‹å·ï¼›")]),t._v(" "),s("p",[t._v("2.ä¸åŒçš„çˆ¶è¿›ç¨‹å·(è¯‘è€…æ³¨ï¼šå³å­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹å·ä¸çˆ¶è¿›ç¨‹çš„çˆ¶è¿›ç¨‹å·ä¸åŒï¼Œ çˆ¶è¿›ç¨‹å·å¯ç”±getppidå‡½æ•°å¾—åˆ°)ï¼›")]),t._v(" "),s("p",[t._v("3.èµ„æºä½¿ç”¨(resource utilizations)è®¾å®šä¸º0")]),t._v(" "),s("h3",{attrs:{id:"è¿›ç¨‹ç»„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿›ç¨‹ç»„"}},[t._v("#")]),t._v(" è¿›ç¨‹ç»„")]),t._v(" "),s("p",[t._v("è¿›ç¨‹ç»„å°±æ˜¯å¤šä¸ªè¿›ç¨‹çš„é›†åˆï¼Œå…¶ä¸­è‚¯å®šæœ‰ä¸€ä¸ªç»„é•¿ï¼Œå…¶è¿›ç¨‹PIDç­‰äºè¿›ç¨‹ç»„çš„PGIDã€‚åªè¦åœ¨æŸä¸ªè¿›ç¨‹ç»„ä¸­ä¸€ä¸ªè¿›ç¨‹å­˜åœ¨ï¼Œè¯¥è¿›ç¨‹ç»„å°±å­˜åœ¨ï¼Œè¿™ä¸å…¶ç»„é•¿è¿›ç¨‹æ˜¯å¦ç»ˆæ­¢æ— å…³ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä½œä¸š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½œä¸š"}},[t._v("#")]),t._v(" ä½œä¸š")]),t._v(" "),s("p",[t._v("shellåˆ†å‰åå°æ¥æ§åˆ¶çš„ä¸æ˜¯è¿›ç¨‹è€Œæ˜¯ä½œä¸šï¼ˆjobï¼‰æˆ–è€…è¿›ç¨‹ç»„ï¼ˆProcess Groupï¼‰ã€‚")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªå‰å°ä½œä¸šå¯ä»¥ç”±å¤šä¸ªè¿›ç¨‹ç»„æˆï¼Œä¸€ä¸ªåå°ä¹Ÿå¯ä»¥ç”±å¤šä¸ªè¿›ç¨‹ç»„æˆï¼Œshellå¯ä»¥è¿è¡Œä¸€ä¸ªå‰å°ä½œä¸šå’Œä»»æ„å¤šä¸ªåå°ä½œä¸šï¼Œè¿™ç§°ä¸ºä½œä¸šæ§åˆ¶")]),t._v(" "),s("h3",{attrs:{id:"ä¸ºä»€ä¹ˆåªèƒ½è¿è¡Œä¸€ä¸ªå‰å°ä½œä¸š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆåªèƒ½è¿è¡Œä¸€ä¸ªå‰å°ä½œä¸š"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ä¸ºä»€ä¹ˆåªèƒ½è¿è¡Œä¸€ä¸ªå‰å°ä½œä¸šï¼Ÿ")])]),t._v(" "),s("p",[t._v("ç­”ï¼šå½“æˆ‘ä»¬åœ¨å‰å°æ–°èµ·äº†ä¸€ä¸ªä½œä¸šï¼Œshellå°±è¢«æåˆ°äº†åå°ï¼Œå› æ­¤shellå°±æ²¡æœ‰åŠæ³•å†ç»§ç»­æ¥å—æˆ‘ä»¬çš„æŒ‡ä»¤å¹¶ä¸”è§£æè¿è¡Œäº†ã€‚ ä½†æ˜¯å¦‚æœå‰å°è¿›ç¨‹é€€å‡ºäº†ï¼Œshellå°±ä¼šæœ‰è¢«æåˆ°å‰å°æ¥ï¼Œå°±å¯ä»¥ç»§ç»­æ¥å—æˆ‘ä»¬çš„å‘½ä»¤å¹¶ä¸”è§£æè¿è¡Œã€‚")]),t._v(" "),s("p",[t._v("ä½œä¸šä¸è¿›ç¨‹ç»„çš„åŒºåˆ«ï¼šå¦‚æœä½œä¸šä¸­çš„æŸä¸ªè¿›ç¨‹æœ‰åˆ›å»ºäº†å­è¿›ç¨‹ï¼Œåˆ™è¯¥å­è¿›ç¨‹æ˜¯ä¸å±äºè¯¥ä½œä¸šçš„ã€‚\nä¸€æ—¦ä½œä¸šè¿è¡Œç»“æŸï¼Œshellå°±æŠŠè‡ªå·±æåˆ°å‰å°ï¼ˆå­è¿›ç¨‹è¿˜å­˜åœ¨ï¼Œä½†æ˜¯å­è¿›ç¨‹ä¸å±äºä½œä¸šï¼‰ï¼Œå¦‚æœåŸæ¥çš„å‰å°è¿›ç¨‹è¿˜å­˜åœ¨ï¼ˆè¿™ä¸ªå­è¿›ç¨‹è¿˜æ²¡æœ‰ç»ˆæ­¢ï¼‰ï¼Œä»–å°†è‡ªåŠ¨å˜ä¸ºåå°è¿›ç¨‹ç»„")]),t._v(" "),s("h3",{attrs:{id:"ä¼šè¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¼šè¯"}},[t._v("#")]),t._v(" ä¼šè¯")]),t._v(" "),s("p",[t._v("ä¼šè¯ï¼ˆSessionï¼‰æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ç»„çš„é›†åˆã€‚ä¸€ä¸ªä¼šè¯å¯ä»¥æœ‰ä¸€ä¸ªæ§åˆ¶ç»ˆç«¯ã€‚åœ¨xshellæˆ–è€…WinSCPä¸­æ‰“å¼€ä¸€ä¸ªçª—å£å°±æ˜¯æ–°å»ºä¸€ä¸ªä¼šè¯ã€‚")]),t._v(" "),s("p",{attrs:{id:"è¿›ç¨‹ç»ˆæ­¢çš„å‡ ç§æ–¹å¼"}}),t._v(" "),s("h2",{attrs:{id:"_39ã€è¿›ç¨‹ç»ˆæ­¢çš„å‡ ç§æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_39ã€è¿›ç¨‹ç»ˆæ­¢çš„å‡ ç§æ–¹å¼"}},[t._v("#")]),t._v(" 39ã€è¿›ç¨‹ç»ˆæ­¢çš„å‡ ç§æ–¹å¼")]),t._v(" "),s("p",[t._v("1ã€mainå‡½æ•°çš„è‡ªç„¶è¿”å›ï¼Œ"),s("code",[t._v("return")]),t._v("\n2ã€è°ƒç”¨"),s("code",[t._v("exit")]),t._v("å‡½æ•°ï¼Œå±äºcçš„å‡½æ•°åº“\n3ã€è°ƒç”¨"),s("code",[t._v("_exit")]),t._v("å‡½æ•°ï¼Œå±äºç³»ç»Ÿè°ƒç”¨\n4ã€è°ƒç”¨"),s("code",[t._v("abort")]),t._v("å‡½æ•°ï¼Œå¼‚å¸¸ç¨‹åºç»ˆæ­¢ï¼ŒåŒæ—¶å‘é€SIGABRTä¿¡å·ç»™è°ƒç”¨è¿›ç¨‹ã€‚\n5ã€æ¥å—èƒ½å¯¼è‡´è¿›ç¨‹ç»ˆæ­¢çš„ä¿¡å·ï¼šctrl+c (^C)ã€SIGINT(SIGINTä¸­æ–­è¿›ç¨‹)")]),t._v(" "),s("p",[s("strong",[t._v("exitå’Œ_exitçš„åŒºåˆ«")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://oss.interviewguide.cn/img/202205212344845.png",alt:""}})]),t._v(" "),s("p",{attrs:{id:"é‡Œç‰›å®¢æ­»ä¸­å¼‚å¸¸å’Œä¸­æ–­çš„åŒºåˆ«"}}),t._v(" "),s("h2",{attrs:{id:"_40ã€linuxä¸­å¼‚å¸¸å’Œä¸­æ–­çš„åŒºåˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_40ã€linuxä¸­å¼‚å¸¸å’Œä¸­æ–­çš„åŒºåˆ«"}},[t._v("#")]),t._v(" 40ã€Linuxä¸­å¼‚å¸¸å’Œä¸­æ–­çš„åŒºåˆ«")]),t._v(" "),s("h3",{attrs:{id:"ä¸­æ–­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­æ–­"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ä¸­æ–­")])]),t._v(" "),s("p",[t._v("å¤§å®¶éƒ½çŸ¥é“ï¼Œå½“æˆ‘ä»¬åœ¨æ•²å‡»é”®ç›˜çš„åŒæ—¶å°±ä¼šäº§ç”Ÿä¸­æ–­ï¼Œå½“ç¡¬ç›˜è¯»å†™å®Œæ•°æ®ä¹‹åä¹Ÿä¼šäº§ç”Ÿä¸­æ–­ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œä¸­æ–­å¤§å¤šæ•°æ˜¯ç”±ç¡¬ä»¶è®¾å¤‡äº§ç”Ÿçš„ï¼Œè€Œå®ƒä»¬ä»ç‰©ç†ä¸Šè¯´å°±æ˜¯ç”µä¿¡å·ï¼Œä¹‹åï¼Œå®ƒä»¬é€šè¿‡ä¸­æ–­æ§åˆ¶å™¨å‘é€ç»™CPUï¼Œæ¥ç€CPUåˆ¤æ–­æ”¶åˆ°çš„ä¸­æ–­æ¥è‡ªäºå“ªä¸ªç¡¬ä»¶è®¾å¤‡ï¼ˆè¿™å®šä¹‰åœ¨å†…æ ¸ä¸­ï¼‰ï¼Œæœ€åï¼Œç”±CPUå‘é€ç»™å†…æ ¸ï¼Œæœ‰å†…æ ¸å¤„ç†ä¸­æ–­ã€‚ä¸‹é¢è¿™å¼ å›¾æ˜¾ç¤ºäº†ä¸­æ–­å¤„ç†çš„æµç¨‹ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://oss.interviewguide.cn/img/202205212344538.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("è½¯ä»¶ä¸­æ–­ä¸è½¯ä¸­æ–­")]),t._v("\né™¤äº†ç¡¬ä»¶ä¸­æ–­ï¼Œè¿˜å­˜åœ¨éƒ¨åˆ†ç”±è½¯ä»¶äº§ç”Ÿçš„ä¸­æ–­ï¼Œç§°ä¹‹ä¸ºè½¯ä»¶ä¸­æ–­ï¼ˆSoftware Interruptï¼‰ï¼Œæœ€å¸¸è§çš„æœ‰å¼•å‘ç³»ç»Ÿè°ƒç”¨çš„Int 0x80ã€‚åŒæ—¶ï¼Œè½¯ä»¶ä¸­æ–­åˆåŒºåˆ«äºè½¯ä¸­æ–­ï¼ˆSoftIRQï¼‰ï¼Œè½¯ä¸­æ–­ä¸»è¦ç”¨äºä¸­æ–­å¤„ç†çš„ä¸‹åŠç¨‹ï¼ˆBottom Halvesï¼‰ï¼Œéå…³é”®é€»è¾‘çš„éƒ¨åˆ†ï¼Œæ¥æé«˜ä¸­æ–­å¤„ç†çš„æ•ˆç‡ä¸å®æ—¶æ€§ï¼Œæœ€å¸¸ç”¨äºI/Oç›¸å…³çš„ä¸­æ–­å¤„ç†ã€‚\nå¤„ç†ä¸­æ–­ä¸‹åŠç¨‹çš„æ–¹æ³•é™¤äº†è½¯ä¸­æ–­ï¼Œè¿˜æœ‰taskletï¼ŒäºŒè€…å­˜åœ¨ä¸€å®šçš„åŒºåˆ«ä¸è”ç³»ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("äºŒè€…éƒ½å¯ä»¥è¢«æ³¨å†Œç”¨äºä¸­æ–­å¤„ç†ä¸‹åŠç¨‹çš„å»¶æ—¶ä»»åŠ¡ï¼›")]),t._v(" "),s("li",[t._v("åŒä¸€ç§ç±»å‹çš„taskletåªèƒ½ä¸²è¡Œæ‰§è¡Œï¼Œè€ŒåŒç±»å‹çš„è½¯ä¸­æ–­å¯ä»¥å¤šä¸ªCPUå¹¶å‘æ‰§è¡Œï¼Œä¸åŒç±»å‹çš„è½¯ä¸­æ–­å’Œtaskletå‡å¯å¹¶å‘æ‰§è¡Œï¼›")]),t._v(" "),s("li",[t._v("taskletåº•å±‚æ˜¯åŸºäºä¸¤ç§è½¯ä¸­æ–­æ¥å®ç°çš„ï¼Œåˆ†åˆ«æ˜¯HI_SOFTIRQå’ŒTASKLET_SOFTIRQï¼›")])]),t._v(" "),s("h3",{attrs:{id:"å¼‚å¸¸"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚å¸¸"}},[t._v("#")]),t._v(" "),s("strong",[t._v("å¼‚å¸¸")])]),t._v(" "),s("p",[t._v("æˆ‘ä»¬åœ¨å­¦ä¹ ã€Šè®¡ç®—æœºç»„æˆåŸç†ã€‹çš„æ—¶å€™ä¼šçŸ¥é“ä¸¤ä¸ªæ¦‚å¿µï¼ŒCPUå¤„ç†ç¨‹åºçš„æ—¶å€™ä¸€æ—¦ç¨‹åºä¸åœ¨å†…å­˜ä¸­ï¼Œä¼šäº§ç”Ÿç¼ºé¡µå¼‚å¸¸ï¼›å½“è¿è¡Œé™¤æ³•ç¨‹åºæ—¶ï¼Œå½“é™¤æ•°ä¸º0æ—¶ï¼Œåˆä¼šäº§ç”Ÿé™¤0å¼‚å¸¸ã€‚æ‰€ä»¥ï¼Œå¤§å®¶ä¹Ÿéœ€è¦è®°ä½çš„æ˜¯ï¼Œ"),s("strong",[t._v("å¼‚å¸¸æ˜¯ç”±CPUäº§ç”Ÿçš„ï¼ŒåŒæ—¶ï¼Œå®ƒä¼šå‘é€ç»™å†…æ ¸ï¼Œè¦æ±‚å†…æ ¸å¤„ç†è¿™äº›å¼‚å¸¸")]),t._v("ï¼Œä¸‹é¢è¿™å¼ å›¾æ˜¾ç¤ºäº†å¼‚å¸¸å¤„ç†çš„æµç¨‹ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://oss.interviewguide.cn/img/202205212344494.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"ç›¸åŒç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç›¸åŒç‚¹"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ç›¸åŒç‚¹")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æœ€åéƒ½æ˜¯ç”±CPUå‘é€ç»™å†…æ ¸ï¼Œç”±å†…æ ¸å»å¤„ç†")])]),t._v(" "),s("li",[s("p",[t._v("å¤„ç†ç¨‹åºçš„æµç¨‹è®¾è®¡ä¸Šæ˜¯ç›¸ä¼¼çš„")])])]),t._v(" "),s("h3",{attrs:{id:"ä¸åŒç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸åŒç‚¹"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ä¸åŒç‚¹")])]),t._v(" "),s("ul",[s("li",[t._v("äº§ç”Ÿæºä¸ç›¸åŒï¼Œå¼‚å¸¸æ˜¯ç”±CPUäº§ç”Ÿçš„ï¼Œè€Œä¸­æ–­ä¸»è¦æ˜¯ç”±ç¡¬ä»¶è®¾å¤‡äº§ç”Ÿçš„")]),t._v(" "),s("li",[t._v("å†…æ ¸éœ€è¦æ ¹æ®æ˜¯å¼‚å¸¸è¿˜æ˜¯ä¸­æ–­è°ƒç”¨ä¸åŒçš„å¤„ç†ç¨‹åº")]),t._v(" "),s("li",[t._v("ä¸­æ–­ä¸æ˜¯æ—¶é’ŸåŒæ­¥çš„ï¼Œè¿™æ„å‘³ç€ä¸­æ–­å¯èƒ½éšæ—¶åˆ°æ¥ï¼›å¼‚å¸¸ç”±äºæ˜¯CPUäº§ç”Ÿçš„ï¼Œæ‰€ä»¥å®ƒæ˜¯æ—¶é’ŸåŒæ­¥çš„")]),t._v(" "),s("li",[t._v("å½“å¤„ç†ä¸­æ–­æ—¶ï¼Œå¤„äºä¸­æ–­ä¸Šä¸‹æ–‡ä¸­ï¼›å¤„ç†å¼‚å¸¸æ—¶ï¼Œå¤„äºè¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­")])]),t._v(" "),s("p",{attrs:{id:"ç˜Ÿéƒ½æ­»å’Œé‡Œç‰›å®¢æ­»ç¯å¢ƒä¸‹å†…å­˜åˆ†å¸ƒæƒ…å†µ"}})],1)}),[],!1,null,null,null);a.default=e.exports}}]);
